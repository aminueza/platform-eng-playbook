<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 520" width="960" height="520">
  <defs>
    <linearGradient id="triggerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="triageGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="incidentGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ef4444;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#dc2626;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="resolveGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2563eb;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="fixGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#22c55e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#16a34a;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="postmortemGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="backlogGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0284c7;stop-opacity:1" />
    </linearGradient>

    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="3" stdDeviation="5" flood-opacity="0.10"/>
    </filter>

    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="960" height="520" fill="#f8fafc"/>
  <pattern id="dots" width="20" height="20" patternUnits="userSpaceOnUse">
    <circle cx="10" cy="10" r="1" fill="#e2e8f0"/>
  </pattern>
  <rect width="960" height="520" fill="url(#dots)"/>

  <!-- Title -->
  <text x="480" y="32" font-family="Segoe UI, system-ui, sans-serif" font-size="18" font-weight="700" fill="#0f172a" text-anchor="middle">Incident Management Flow</text>

  <!-- ========== TRIGGER SOURCES (left column) ========== -->

  <!-- Users box -->
  <g transform="translate(30, 60)">
    <rect width="120" height="60" rx="10" fill="white" stroke="#6366f1" stroke-width="2" filter="url(#shadow)"/>
    <rect width="120" height="28" rx="10" fill="url(#triggerGrad)"/>
    <rect y="18" width="120" height="10" fill="url(#triggerGrad)"/>
    <text x="60" y="20" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Users</text>
    <text x="60" y="48" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Report issues</text>
  </g>

  <!-- Systems box -->
  <g transform="translate(30, 170)">
    <rect width="120" height="60" rx="10" fill="white" stroke="#6366f1" stroke-width="2" filter="url(#shadow)"/>
    <rect width="120" height="28" rx="10" fill="url(#triggerGrad)"/>
    <rect y="18" width="120" height="10" fill="url(#triggerGrad)"/>
    <text x="60" y="20" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Systems</text>
    <text x="60" y="48" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Monitoring alerts</text>
  </g>

  <!-- Arrow: Users → Customer Support -->
  <line x1="150" y1="90" x2="185" y2="90" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="168" y="84" font-family="Segoe UI, system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Ticket</text>

  <!-- Customer Support box -->
  <g transform="translate(190, 60)">
    <rect width="120" height="60" rx="10" fill="white" stroke="#6366f1" stroke-width="2" filter="url(#shadow)"/>
    <rect width="120" height="28" rx="10" fill="url(#triggerGrad)"/>
    <rect y="18" width="120" height="10" fill="url(#triggerGrad)"/>
    <text x="60" y="20" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Customer Support</text>
    <text x="60" y="48" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Validates report</text>
  </g>

  <!-- Arrow: Customer Support → On-call -->
  <path d="M 310 90 L 340 90 L 340 155 L 370 155" fill="none" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Arrow: Systems → On-call -->
  <path d="M 150 200 L 340 200 L 340 175 L 370 175" fill="none" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <text x="240" y="194" font-family="Segoe UI, system-ui, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Alert</text>

  <!-- On-call Engineer box -->
  <g transform="translate(375, 135)">
    <rect width="130" height="60" rx="10" fill="white" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
    <rect width="130" height="28" rx="10" fill="url(#triageGrad)"/>
    <rect y="18" width="130" height="10" fill="url(#triageGrad)"/>
    <text x="65" y="20" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">On-call Engineer</text>
    <text x="65" y="48" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Initial assessment</text>
  </g>

  <!-- Arrow: On-call → Triage -->
  <line x1="440" y1="195" x2="440" y2="230" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Triage diamond -->
  <g transform="translate(440, 260)">
    <polygon points="0,-24 50,0 0,24 -50,0" fill="white" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
    <text x="0" y="5" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="#92400e" text-anchor="middle">Triage</text>
  </g>

  <!-- Arrow: Triage → Not an incident (down-left) -->
  <path d="M 400 275 L 330 310" fill="none" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Not an incident -->
  <g transform="translate(260, 310)">
    <rect width="130" height="44" rx="8" fill="#fef2f2" stroke="#fca5a5" stroke-width="1.5"/>
    <text x="65" y="18" font-family="Segoe UI, system-ui, sans-serif" font-size="10" font-weight="600" fill="#991b1b" text-anchor="middle">Not an incident</text>
    <text x="65" y="34" font-family="Segoe UI, system-ui, sans-serif" font-size="18" fill="#dc2626" text-anchor="middle">✕</text>
  </g>

  <!-- Arrow: Triage → Incident in Linear (right) -->
  <line x1="490" y1="260" x2="545" y2="260" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Incident in Linear box (larger) -->
  <g transform="translate(550, 220)">
    <rect width="185" height="100" rx="12" fill="white" stroke="#ef4444" stroke-width="2" filter="url(#shadow)"/>
    <rect width="185" height="30" rx="12" fill="url(#incidentGrad)"/>
    <rect y="20" width="185" height="10" fill="url(#incidentGrad)"/>
    <text x="92" y="22" font-family="Segoe UI, system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Incident in Linear</text>
    <text x="92" y="50" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Type: SOC / Product</text>
    <text x="92" y="64" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Severity: P0 / P1 / P2</text>
    <text x="92" y="78" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Preliminary analysis</text>
    <text x="92" y="92" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Hot-fix approaches</text>
  </g>

  <!-- Arrow: Incident → Resolution plan (down) -->
  <line x1="642" y1="320" x2="642" y2="370" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Resolution plan box -->
  <g transform="translate(555, 375)">
    <rect width="175" height="70" rx="10" fill="white" stroke="#3b82f6" stroke-width="2" filter="url(#shadow)"/>
    <rect width="175" height="28" rx="10" fill="url(#resolveGrad)"/>
    <rect y="18" width="175" height="10" fill="url(#resolveGrad)"/>
    <text x="88" y="20" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Resolution Plan</text>
    <text x="88" y="48" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">PM + EM + [CSM]</text>
    <text x="88" y="62" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">+ [InfoSec]</text>
  </g>

  <!-- Arrow: Resolution plan → Short-term fix (right) -->
  <line x1="730" y1="410" x2="775" y2="410" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Short-term fix box -->
  <g transform="translate(780, 385)">
    <rect width="140" height="50" rx="10" fill="white" stroke="#22c55e" stroke-width="2" filter="url(#shadow)"/>
    <rect width="140" height="28" rx="10" fill="url(#fixGrad)"/>
    <rect y="18" width="140" height="10" fill="url(#fixGrad)"/>
    <text x="70" y="20" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Short-term Fix</text>
    <text x="70" y="42" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Deploy &amp; verify</text>
  </g>

  <!-- Arrow: Incident in Linear → Post Mortem (right) -->
  <line x1="735" y1="260" x2="780" y2="260" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Post Mortem / RCA box -->
  <g transform="translate(785, 230)">
    <rect width="145" height="60" rx="10" fill="white" stroke="#8b5cf6" stroke-width="2" filter="url(#shadow)"/>
    <rect width="145" height="28" rx="10" fill="url(#postmortemGrad)"/>
    <rect y="18" width="145" height="10" fill="url(#postmortemGrad)"/>
    <text x="72" y="20" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Post-Mortem / RCA</text>
    <text x="72" y="48" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Structural impact</text>
  </g>

  <!-- Arrow: Post Mortem → Backlog (up) -->
  <line x1="857" y1="230" x2="857" y2="170" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Backlog High Priority Items box -->
  <g transform="translate(775, 95)">
    <rect width="165" height="70" rx="10" fill="white" stroke="#0ea5e9" stroke-width="2" filter="url(#shadow)"/>
    <rect width="165" height="28" rx="10" fill="url(#backlogGrad)"/>
    <rect y="18" width="165" height="10" fill="url(#backlogGrad)"/>
    <text x="82" y="20" font-family="Segoe UI, system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">Backlog: High Priority</text>
    <text x="82" y="48" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Structural fixes</text>
    <text x="82" y="62" font-family="Segoe UI, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle">SLA-driven</text>
  </g>

  <!-- Bottom bar -->
  <rect x="50" y="475" width="860" height="6" rx="3" fill="#e2e8f0"/>
  <rect x="50" y="475" width="860" height="6" rx="3" fill="url(#triageGrad)" opacity="0.4"/>
  <text x="480" y="505" font-family="Segoe UI, system-ui, sans-serif" font-size="11" fill="#64748b" text-anchor="middle">← Detection │ Triage │ Resolution │ Post-Mortem →</text>
</svg>

